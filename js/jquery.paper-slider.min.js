/* ------------------------------------------------------------------------
    plugin-name:jQuery Paper Slider
    Developped By: ZHAO Xudong, zxdong@gmail.com -> http://html5beta.com/jquery-2/jquery-paper-slider/
    Version: 1.0.6
    License: MIT
------------------------------------------------------------------------ */
(function(e){function t(t,n){var r={speed:500,timer:4e3,autoSlider:!0,hasNav:!0,pauseOnHover:!0,navLeftTxt:"&lt;",navRightTxt:"&gt;",zIndex:20,ease:"linear"},i=this,s=i.defs=e.extend(r,t),o={position:"absolute",left:0,right:0,width:"100%",height:"100%","z-index":s.zIndex};i.t=n.show().wrapInner('<div class="paper-slides" />'),i.p=i.t.children().css(o),i.ps=i.p.children().addClass("paper-slide").css(o),i.len=i.ps.length,i.flag=null,i.pause=!1,i.onAction=!1,i.currentPage=0,i.ps.eq(0).css("z-index",s.zIndex+1).end().filter(":odd").addClass("ps-odd"),i.defs.autoSlider&&(i.flag=setTimeout(function(){i.autoroll()},s.timer)),i.t.hover(function(){e(this).addClass("ps-hover"),s.pauseOnHover&&(i.pause=!0)},function(){e(this).removeClass("ps-hover"),s.pauseOnHover&&(i.pause=!1)}),i.t.on("click",".ps-link",function(){if(i.onAction)return;i.onAction=!0;var t=parseInt(e(this).data("ps-page")),n=(t+i.len)%i.len,r=t>i.currentPage;if(n===i.currentPage)return;i.action(r,n)}),s.hasNav&&(i.t.append('<a href="javascript:;" class="ps-nav ps-nav-prev">'+s.navLeftTxt+'</a><a href="javascript:;" class="ps-nav ps-nav-next">'+s.navRightTxt+"</a>").children(".ps-nav").css("z-index",s.zIndex+10+i.len),i.t.on("click",".ps-nav",function(){if(i.onAction)return;i.onAction=!0;var t=e(this).hasClass("ps-nav-next"),n=i.len,r=t?(i.currentPage+1+n)%n:(i.currentPage-1+n)%n;i.action(t,r)}))}t.prototype={action:function(t,n){var r=this,i=r.defs,s=i.speed,o=r.currentPage,u=r.ps,a=t?50:-50,f=u.eq(o),l=u.eq(n);f.css({"z-index":i.zIndex+2}).addClass("ps-on").show(),l.css({"z-index":i.zIndex+1}).addClass("ps-on").show(),u.filter(function(){return!e(this).hasClass("ps-on")}).css("z-index",i.zIndex),f.animate({left:-a+"%"},s,i.ease,function(){f.css("z-index",i.zIndex+1).animate({left:0},s)}),l.animate({left:a},s,i.ease,function(){f.removeClass("ps-on"),l.css("z-index",i.zIndex+2).removeClass("ps-on").animate({left:0},s),r.currentPage=n,r.onAction=!1,i.autoSlider&&(clearTimeout(r.flag),r.flag=setTimeout(function(){r.autoroll()},i.timer))})},autoroll:function(){var e=this;if(!e.onAction&&!e.pause){e.onAction=!0;var t=(e.currentPage+1+e.len)%e.len;e.pause||e.action(!0,t)}else clearTimeout(e.flag),e.flag=setTimeout(function(){e.autoroll()},e.defs.timer)},destroy:function(){var t=this;clearTimeout(t.flag),t.ps.unwrap(),t.t.off("click","**").removeAttr("style").children(".ps-nav").remove(),t.t.children(".paper-slide").removeAttr("style").removeClass("paper-slide"),e.each(t,function(e,n){t[e]=null})}},e.fn.paperSlider=function(e){return new t(e,this)}})(jQuery);